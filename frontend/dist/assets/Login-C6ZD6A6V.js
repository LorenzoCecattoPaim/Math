import{r as i,u as w,a as y,b as E,j as e,L as l,d as L}from"./index-BHZVmxCX.js";import{G as S}from"./GoogleLoginButton-CxcvqCaP.js";import{B as C}from"./button-YsjuXer5.js";import{L as x,I as u}from"./label-DvjiGtI9.js";import{A as G}from"./arrow-left-B_lEUGrZ.js";import{G as k}from"./graduation-cap-Dy4HGtCQ.js";import"./index-BOSJV_w5.js";function R(){const[n,h]=i.useState(""),[c,p]=i.useState(""),[o,d]=i.useState(!1),{signIn:f,startGoogleAuth:v}=w(),m=y(),{toast:t}=E(),g=i.useCallback(a=>{t({variant:"destructive",title:"Erro no login Google",description:a})},[t]),j=async a=>{const{data:s,error:r}=await v(a);if(r||!s){t({variant:"destructive",title:"Erro ao iniciar verificacao",description:(r==null?void 0:r.message)||"Nao foi possivel continuar com Google."});return}t({title:"Codigo enviado",description:`Enviamos um codigo para ${s.email}.`});const b=new URLSearchParams({pending_token:s.pendingToken,email:s.email});m(`/verify-email?${b.toString()}`)},N=async a=>{a.preventDefault(),d(!0);const{error:s}=await f(n,c);s?t({variant:"destructive",title:"Erro ao entrar",description:s.message}):m("/dashboard"),d(!1)};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx("div",{className:"flex-1 flex flex-col justify-center px-8 md:px-16 lg:px-24",children:e.jsxs("div",{className:"max-w-md w-full mx-auto",children:[e.jsxs(l,{to:"/",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground mb-8 transition-colors",children:[e.jsx(G,{className:"w-4 h-4"}),"Voltar ao inicio"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Bem-vindo de volta!"}),e.jsx("p",{className:"text-muted-foreground",children:"Entre na sua conta para continuar praticando."})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx(S,{onSuccess:j,onError:g,disabled:o}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"ou"})})]})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",type:"email",autoComplete:"email",placeholder:"seu@email.com",value:n,onChange:a=>h(a.target.value),required:!0,className:"h-12"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"password",children:"Senha"}),e.jsx(u,{id:"password",type:"password",autoComplete:"current-password",placeholder:"........",value:c,onChange:a=>p(a.target.value),required:!0,className:"h-12"}),e.jsx("div",{className:"text-right",children:e.jsx(l,{to:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Esqueci minha senha"})})]}),e.jsx(C,{type:"submit",variant:"hero",className:"w-full",size:"lg",disabled:o,children:o?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"w-4 h-4 animate-spin"}),"Entrando..."]}):"Entrar"})]}),e.jsxs("p",{className:"mt-8 text-center text-muted-foreground",children:["Nao tem uma conta?"," ",e.jsx(l,{to:"/register",className:"text-primary font-medium hover:underline",children:"Cadastre-se"})]})]})}),e.jsx("div",{className:"hidden lg:flex flex-1 bg-gradient-to-br from-primary via-primary-glow to-secondary relative overflow-hidden",children:e.jsxs("div",{className:"flex flex-col items-center justify-center w-full p-12 text-white",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-white/10 backdrop-blur flex items-center justify-center mb-8",children:e.jsx(k,{className:"w-10 h-10"})}),e.jsx("h2",{className:"text-4xl font-bold mb-4 text-center",children:"ProvaLab"}),e.jsx("p",{className:"text-xl text-white/80 text-center max-w-md",children:"Pratique, aprenda e evolua com exercicios personalizados."})]})})]})}export{R as default};
